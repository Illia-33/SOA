syntax = "proto3";

package generated;

option go_package=".";

import "google/protobuf/timestamp.proto";

message Account {
    string login = 1;
    string password = 2;
    string email = 3;
    string phone_number = 4;
};

message Profile {
    string name = 1;
    string surname = 2;
    string profile_id = 3;
    google.protobuf.Timestamp birthday = 4;
    string bio = 5;
};

message UserData {
    Account account_info = 1;
    Profile profile_info = 2;
};

message Empty {
};

message RegisterUserRequest {
    string login = 1;
    string password = 2;
    string email = 3;
    string phone_number = 4;
    string name = 5;
    string surname = 6;
};

message RegisterUserResponse {
    string profile_id = 1;
};

message UnregisterUserRequest {
    string profile_id = 1;
};

message GetProfileRequest {
    string profile_id = 1;
};

message GetProfileResponse {
    Profile profile_data = 1;
};

message EditProfileRequest {
    string profile_id = 1;
    Profile edited_profile_data = 2;
};

service AccountsService {
    rpc RegisterUser(RegisterUserRequest) returns (RegisterUserResponse);
    rpc UnregisterUser (UnregisterUserRequest) returns (Empty);
    rpc GetProfile(GetProfileRequest) returns (Profile);
    rpc EditProfile(EditProfileRequest) returns (Empty);
};
